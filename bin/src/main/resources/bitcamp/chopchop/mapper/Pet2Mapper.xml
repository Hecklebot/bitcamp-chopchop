<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bitcamp.chopchop.dao.Pet2Dao">

<resultMap type="Pet2" id="Pet2Map">
  <id column="pet_id" property="petNo"/>
  <result column="member_id" property="memberNo"/>
  <result column="name" property="name"/>
  <result column="created_date" property="createdDate"/>
  <result column="register_no" property="registerNo"/>
  <result column="age" property="age"/>
  <result column="gender" property="gender"/>
  <result column="file_path" property="filePath"/>
</resultMap>

<!-- <resultMap type="Pet" id="MemberPet"> -->
<!--     <id column="pet_id" property="petNo" /> -->
<!--     <result column="member_id" property="memberNo" /> -->
<!--     <result column="name" property="name" /> -->
<!--     <result column="created_date" property="createdDate" /> -->
<!--     <result column="register_no" property="registerNo" /> -->
<!--     <result column="gender" property="gender" /> -->
<!--     <result column="age" property="age" /> -->
<!--     <result column="file_path" property="photo" /> -->
<!--   </resultMap> -->

<select id="findAll" resultMap="Pet2Map">
  select * from pet
</select>

<insert id="insert" parameterType="Pet2"> 
  insert into pet
  (
    member_id, 
    name, 
    created_date,
    register_no,
    age, 
    gender, 
    file_path
  )
  values
  (
    #{memberNo},
    #{name},
    now(),
    #{registerNo},
    #{age},
    #{gender},
    #{filePath}
  )
</insert>

<select id="getPets" parameterType="int" resultMap="Pet2Map">
<!-- 		 SELECT  -->
<!-- 		    p.file_path  -->
<!-- 		    ,p.name  -->
<!-- 		    ,p.age -->
<!-- 		    ,p.gender -->
<!-- 		    ,p.pet_id -->
<!-- 		    ,m.member_id -->
<!-- 		    ,p.created_date -->
<!-- 		    ,p.register_no -->
<!-- 			FROM member  -->
<!-- 			WHERE m.member_id= #{memberNo} -->
    select * from pet 
    where member_id = #{memberNo}
	</select>

</mapper>